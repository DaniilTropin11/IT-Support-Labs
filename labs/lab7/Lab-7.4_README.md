# üß™ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ7.4  
**–¢–µ–º–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ Zabbix Agent —Å –ø–æ–º–æ—â—å—é Ansible  

---

## üéØ –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã  
–û—Å–≤–æ–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Ansible –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Zabbix Agent 2 –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ö–æ—Å—Ç–∞—Ö. [page:1]  

---

## üìö –ó–∞–¥–∞–Ω–∏—è  

1. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –≤–∏–¥–µ–æ:  
   [Zabbix —Å –Ω—É–ª—è –¥–æ –∫–æ—Ä–æ–ª—è ‚Äî –ß–∞—Å—Ç—å 4. Ansible, Zabbix Agent](https://www.youtube.com/watch?v=gLBjc7W685w&list=PLdQohrQ3OmqS2wo9MwFKJtnXcVH5SCOh8&index=4). [page:1]  

2. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É Ansible:  
   - –°–æ–∑–¥–∞–π—Ç–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å —Å –≥—Ä—É–ø–ø–æ–π —Ö–æ—Å—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `[zbx_agents]`) –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –Ω–µ—ë –º–∏–Ω–∏–º—É–º –¥–≤–∞ —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞/VM. [page:1]  
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSH‚Äë–¥–æ—Å—Ç—É–ø –ø–æ –∫–ª—é—á—É –ø–æ–¥ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ `sudo` –±–µ–∑ –ø–∞—Ä–æ–ª—è –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. [page:1]  

3. –°–æ–∑–¥–∞–π—Ç–µ —Ä–æ–ª—å Ansible –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Zabbix Agent 2:  
   - –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–æ–ª–∏ (`roles/zabbix_agent2/` —Å –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–∞–º–∏ `tasks`, `templates`, `files`, `vars` –∏ —Ç.–ø.). [page:1]  
   - –í `tasks/main.yml` —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ:  
     - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Zabbix –¥–ª—è –≤–∞—à–µ–π –û–°. [page:1]  
     - –£—Å—Ç–∞–Ω–æ–≤–∫—É –ø–∞–∫–µ—Ç–∞ `zabbix-agent2` —á–µ—Ä–µ–∑ –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä. [page:1]  

4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ –∞–≥–µ–Ω—Ç–∞ –∏ –∏–º—è —Å–µ—Ä–≤–µ—Ä–∞:  
   - –°–æ–∑–¥–∞–π—Ç–µ —à–∞–±–ª–æ–Ω `zabbix_agent2.conf.j2`, –≥–¥–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `Server` –∏ `ServerActive` –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `zabbix_server_name` –∏–ª–∏ `zabbix_server_ip`). [page:1]  
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–¥—É–ª—å `template` –¥–ª—è —Ä–∞—Å–∫–∞—Ç–∫–∏ –∫–æ–Ω—Ñ–∏–≥–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ handler –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ `zabbix-agent2`. [page:1]  
   - –î–æ–±–∞–≤—å—Ç–µ –∑–∞–¥–∞—á—É —Å –º–æ–¥—É–ª–µ–º `lineinfile` –¥–ª—è –∑–∞–ø–∏—Å–∏ IP –∏ –∏–º–µ–Ω–∏ Zabbix‚Äë—Å–µ—Ä–≤–µ—Ä–∞ –≤ `/etc/hosts` —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö —É–∑–ª–æ–≤. [page:1]  

5. –ù–∞–ø–∏—à–∏—Ç–µ playbook (–Ω–∞–ø—Ä–∏–º–µ—Ä, `deploy_zabbix_agent.yml`):  
   - –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∫ –≥—Ä—É–ø–ø–µ `[zbx_agents]` —Å–æ–∑–¥–∞–Ω–Ω—É—é —Ä–æ–ª—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≥–µ–Ω—Ç–∞. [page:1]  
   - –í–∫–ª—é—á–∏—Ç–µ `become: yes` –∏ –∑–∞–ø—É—Å–∫ –æ—Ç –Ω—É–∂–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `test`). [page:1]  

6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:  
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `zabbix-agent2` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –∑–∞–ø—É—â–µ–Ω –∏ –≤–∫–ª—é—á—ë–Ω –≤ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –Ω–∞ –≤—Å–µ—Ö —Ö–æ—Å—Ç–∞—Ö. [page:1]  
   - –í –≤–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Zabbix —Å–æ–∑–¥–∞–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ö–æ—Å—Ç—ã, –ø—Ä–∏–≤—è–∂–∏—Ç–µ –∫ –Ω–∏–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Linux by Zabbix agent`) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –æ—Ç –∞–≥–µ–Ω—Ç–æ–≤ –ø–æ—Å—Ç—É–ø–∞—é—Ç. [page:1]  

7. –í –æ—Ç—á—ë—Ç–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ:  
   - –°—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–∞–ª–æ–≥–æ–≤ —Ä–æ–ª–∏ (—Å–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–µ—Ä–µ–≤–∞ –ø—Ä–æ–µ–∫—Ç–∞ Ansible). [page:1]  
   - –¢–µ–∫—Å—Ç playbook‚Äô–∞ –∏ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ —Ä–æ–ª–∏ (`tasks/main.yml`, —à–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥–∞, vars). [page:1]  
   - –°–∫—Ä–∏–Ω—à–æ—Ç—ã —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ playbook (–≤—ã–≤–æ–¥ Ansible), —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞ `zabbix-agent2` –Ω–∞ —Ö–æ—Å—Ç–∞—Ö –∏ —Å—Ç–∞—Ç—É—Å–∞ —Ö–æ—Å—Ç–æ–≤ –≤ Zabbix. [page:1]  
   - –ö–æ—Ä–æ—Ç–∫–∏–µ –≤—ã–≤–æ–¥—ã –æ —Ç–æ–º, —á–µ–º –ø–æ–¥—Ö–æ–¥ —Å Ansible —É–¥–æ–±–Ω–µ–µ —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ª—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ. [page:1]  

---

## üß∞ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏  

- –û—Å–Ω–æ–≤–Ω–æ–µ –≤–∏–¥–µ–æ:  
  [Zabbix —Å –Ω—É–ª—è –¥–æ –∫–æ—Ä–æ–ª—è ‚Äî –ß–∞—Å—Ç—å 4. Ansible, Zabbix Agent](https://www.youtube.com/watch?v=gLBjc7W685w&list=PLdQohrQ3OmqS2wo9MwFKJtnXcVH5SCOh8&index=4). [page:1]  

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:  
  - [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Ansible](https://docs.ansible.com/) [web:2]  
  - [Zabbix agent 2 documentation](https://www.zabbix.com/documentation/current/en/manual/agent2) [web:3]  

---

## üìä –û—Ü–µ–Ω–∏–≤–∞–Ω–∏–µ  

| –ë–∞–ª–ª | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è |
| :-- | :-- |
| **3** | –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è —Ä–æ–ª—å –∏ playbook, —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ö–æ—Å—Ç–∞—Ö, –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç —Å –∞–Ω–∞–ª–∏–∑–æ–º |
| **2** | –†–æ–ª—å –∏ playbook —Ä–∞–±–æ—Ç–∞—é—Ç —á–∞—Å—Ç–∏—á–Ω–æ, –µ—Å—Ç—å –Ω–µ–¥–æ—á—ë—Ç—ã –≤ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ |
| **1** | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, —Ç–æ–ª—å–∫–æ –µ–¥–∏–Ω–∏—á–Ω—ã–π —Ö–æ—Å—Ç –∏–ª–∏ –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ |

---

## üõ° –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é (–∞–Ω—Ç–∏‚Äë–ø–ª–∞–≥–∏–∞—Ç)  

1. –ö–∞–∂–¥—ã–π —Å–∫—Ä–∏–Ω—à–æ—Ç –≤ –æ—Ç—á—ë—Ç–µ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –§–ò–û —Å—Ç—É–¥–µ–Ω—Ç–∞, –≥—Ä—É–ø–ø—É –∏ –Ω–æ–º–µ—Ä —Ä–∞–±–æ—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –≤–∏–¥–µ –∫–æ–º–∞–Ω–¥—ã `echo "–§–ò–û, –≥—Ä.XXX, –õ–†7.4"` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∏–ª–∏ –∑–∞–º–µ—Ç–∫–∏, –ø–æ–ø–∞–¥–∞—é—â–µ–π –≤ –∫–∞–¥—Ä).  
2. –ù–∞ –æ–¥–Ω–æ–º –∏–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ–º–∞–Ω–¥ `whoami` –∏ `hostname` –Ω–∞ –æ–¥–Ω–æ–º –∏–∑ —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö —Ö–æ—Å—Ç–æ–≤.  
3. –ó–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á—É–∂–∏—Ö —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤/–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ü–µ–Ω–µ–Ω–∞ –≤ 0 –±–∞–ª–ª–æ–≤.  

---

### üéì –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏  

- –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –≤—ã–Ω–æ—Å–∏—Ç—å IP/–∏–º—è Zabbix‚Äë—Å–µ—Ä–≤–µ—Ä–∞, –ø–æ—Ä—Ç—ã, –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –æ–ø—Ä–æ—Å–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–æ–ª–∏ ‚Äî —ç—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –±–æ–ª–µ–µ –≥–∏–±–∫–æ–π. [page:1]  
- –í –æ—Ç—á—ë—Ç–µ –∞–∫—Ü–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ–º, —Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤ —É–¥–∞–ª–æ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π. [page:1]  
```

<span style="display:none">[^1]</span>

<div align="center">‚ÅÇ</div>

[^1]: Lab-7.2_README.md
